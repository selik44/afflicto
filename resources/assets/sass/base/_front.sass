body, #front #footer
	background: weaker($base-background, 5%)

body.with-menu
	//-------------------------------
	//	With menu (sm and xs)
	//-------------------------------
	@include breakpoint('sm-')
		overflow: hidden
		height: 100%

		#front #header
			position: fixed
			height: 100%
			width: 100%
			overflow-y: auto
			z-index: 100
			background: weaker($base-background, 5%)

#front
	//-------------------------------
	//	Scrolled
	//-------------------------------
	&.scrolled
		#header
			position: fixed
			top: 0px
			width: 100%
			z-index: 10
		
			#nav
				#logo
					@include breakpoint('m+')
						max-width: 140px

				ul.nav
					margin-top: 0px + $base-logo-height !important

				#search
					margin-top: 0px + $base-logo-height

				.search-and-cart
					margin-top: 2px + $base-logo-height

				.cart-toggle
					margin-top: 0px + $base-logo-height


	//center the main components
	#header, #page, #footer, #nav, #nav-top, .nav-dropdown, #breadcrumbs, #slider, #cart
		> .inner
			margin: 0 auto
			max-width: $base-width

		&:not(:last-child)
			border-bottom: 1px solid $base-border-color
	
	#header
		position: relative
		background: weaker($base-background, 5%)

		#nav-top
			background: stronger($base-background, 5%)

			.nav li
				a
					color: weaker($base-color, 15%)

		//-------------------------------
		//	main navigation
		//-------------------------------
		#nav
			padding: 1rem

			> .inner
				display: flex
				flex-direction: row

				@include breakpoint('sm-')
					display: block

					.nav-controls
						flex: 1 1 auto

					.nav-contents



				.nav-controls
					display: flex
					flex-direction: row
					flex: 0 1 auto

				.nav-toggle
					flex: 0 0 auto

					margin-right: 1rem
					font-size: 1.5rem
					margin-bottom: 0

				#logo
					flex: 0 1 auto
					margin-right: 1rem
					display: block
					transition: all $base-transition-duration * 2

					img
						width: 100%

				.cart-toggle-top
					flex: 0 0 auto
					font-size: 1.5rem

				.nav-contents
					flex: 1 1 auto
					display: flex
					flex-direction: row

					@include breakpoint('sm-')
						float: left
						width: 100%
						height: 100%
						clear: both
						transition: all $base-transition-duration * 2
						overflow: hidden
						flex-direction: column

						&:not(.visible)
							display: none
							transition: all $base-transition-duration * 2

					ul.navigation
						flex: 1 1 auto
						display: flex
						font-size: 1rem
						margin-right: 1rem
						transition: all $base-transition-duration
						align-items: center

						> li
							flex: auto

							> a
								text-align: center
								vertical-align: middle

						li a
							text-decoration: none
							color: $base-color

							&:hover
								color: $color-primary

						> li.heading, > li > a
							text-transform: uppercase

						@include breakpoint('sm-')
							display: block
							flex: 0 1 auto
							clear: both
							float: left
							width: 100%
							padding: 0
							margin-right: 0
							margin-top: 0
							background: stronger($base-background, 10%)

							li
								clear: both
								width: 100%

								&.heading
									font-weight: normal

								a
									text-align: left

							.col-m-4
								padding: 0


							> li
								&.heading
									padding-left: 0

								&:not(:last-child)
									border-bottom: 1px solid $base-border-color

								> a
									background: stronger($base-background, 10%)
									font-size: 1.2rem
									padding: 0.8rem

								> a.current
									background: $color-primary
									color: stronger($base-background, 20%)

								.nav-dropdown
									padding-left: 1rem

						.nav-dropdown
							@include breakpoint('m+')
								padding-left: 0 !important
								padding: 1rem
								width: 100%
								position: absolute
								z-index: 50
								top: 100%
								left: 0px
								background: weaker($base-background, 4%)
								border-top: 1px solid $base-border-color
								border-bottom: 1px solid $base-border-color
								box-shadow: 0px 6px 11px 0px rgba(0,0,0,0.3)
								transition: all $base-transition-duration * 2
								opacity: 0
								pointer-events: none

								&.visible
									opacity: 1
									pointer-events: auto

							@include breakpoint('sm-')
								.nav
									padding-left: 1rem

							ul.nav
								li a
									padding: 0.1rem 0.4rem

					.nav-extra
						align-items: center
						justify-content: center
						display: flex
						flex: 0 1 auto

						@include breakpoint('sm-')
							float: left
							width: 100%
							border-top: 1px solid $base-border-color
							padding: 1rem

					#search
						display: flex
						flex: auto
						transition: all $base-transition-duration * 2

						input[name="terms"]
							width: 100px
							transition: all $base-transition-duration * 2

							&:focus
								width: 160px
								transition: all $base-transition-duration * 2

						.buttons
							display: inline

						@include breakpoint('m')
							display: none
							position: absolute
							top: 100%
							left: 0px
							width: 100%
							background: weaker($base-background, 4%)
							text-align: center
							padding: 2rem
							border-bottom: 1px solid $base-border-color

							input[name="terms"], input[name="terms"]:focus
								width: 50%

							input[type="submit"], input[type="reset"]
								font-size: 1.2rem
								padding: 0.8rem 1.2rem

						@include breakpoint('sm-')
							margin-top: 0

					.search-and-cart
						flex: 1 0 auto
						float: left
						margin-left: 1rem
						transition: all $base-transition-duration * 2

						@include breakpoint('m')
							margin-left: 0

						@include breakpoint('sm-')
							display: none
							margin: 0

					.cart-toggle
						margin-left: 1rem
						flex: 0 1 auto

		#cart
			position: absolute
			z-index: 10
			top: 100%
			left: 0px
			width: 100%
			background: weaker($base-background, 4%)
			padding: 2rem
			border-bottom: 1px solid $base-border-color
			transition: all $base-transition-duration * 2
			max-height: 600px
			overflow: auto
			
			> .inner
				max-width: 720px

			.cart-table
				font-size: 1.4rem
				tbody tr td
					padding-top: 2rem
					padding-bottom: 2rem

				.product
					.image
						max-width: 120px

					.info
						padding: 1rem

				.quantity input
					width: 48px

	
	#breadcrumbs
		background: darken($base-background, 2%)
		text-transform: uppercase
		font-size: 0.8rem

		> .inner
			padding: 0.4rem 1rem
	
	#alerts
		> .alerts
			max-width: $base-width
			margin: 0 auto
			padding-top: 2rem
			padding-bottom: 2rem

			.alert:first-child
				margin-top: 1rem
			.alert
				margin-top: 1rem
			.alert:last-child
				margin-top: 0
				margin-bottom: 1rem
	
	#slider
		> .inner
			max-width: 1440px

			.slider
				border: none
				border-radius: 0
				height: 500px

	#page
		border-bottom: 1px solid stronger($base-border-color, 10%)
		background: $base-background

		> .inner
			padding: 2rem 0rem
	
		#aside
			> .inner
				> .block
					padding: 1rem
					margin-bottom: 1rem
					border-bottom: 1px solid $base-border-color


		#article
			> .inner
				padding: 1rem

	#footer


#product-modal
	.slide
		background-size: contain


ul.nav.tabs
	background: none